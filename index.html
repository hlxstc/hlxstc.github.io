<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="hlxstc680@gmail.com">
<meta property="og:type" content="website">
<meta property="og:title" content="Jokers&#39;s Blog">
<meta property="og:url" content="http://thathub.com/index.html">
<meta property="og:site_name" content="Jokers&#39;s Blog">
<meta property="og:description" content="hlxstc680@gmail.com">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jokers&#39;s Blog">
<meta name="twitter:description" content="hlxstc680@gmail.com">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://thathub.com/"/>





  <title>Jokers's Blog</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jokers's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">高尚是高尚者的墓志铭 卑鄙是卑鄙者的通行证</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/12/05/svn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/05/svn/" itemprop="url">svn</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-05T15:00:00+08:00">
                2018-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/05/svn/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/12/05/svn/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Ignore-Directory"><a href="#Ignore-Directory" class="headerlink" title="Ignore Directory"></a>Ignore Directory</h3><ul>
<li><p>vim ignore.txt</p>
<pre><code>dirname
</code></pre></li>
<li><p>Ignore</p>
<pre><code>svn propset svn:ignore -F ignore.txt .
</code></pre></li>
<li><p>If the directory is already “in” svn.</p>
<pre><code>svn rm --keep-local dirname
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/11/16/ML/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/16/ML/" itemprop="url">PyTorch VS TensorFlow</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-16T10:33:00+08:00">
                2018-11-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ML/" itemprop="url" rel="index">
                    <span itemprop="name">ML</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/16/ML/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/11/16/ML/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原作者: <a href="https://www.quora.com/profile/Iliya-Valchanov" target="_blank" rel="noopener">Iliya Valchanov</a><br>转载自: <a href="https://www.quora.com/How-is-PyTorch-different-from-TensorFlow-What-are-the-advantages-of-using-one-vs-the-other-When-should-I-use-one-or-the-other/answer/Iliya-Valchanov#" target="_blank" rel="noopener">quora</a></p>
<p>Let’s start from NumPy (you’ll see why a bit later).</p>
<p>You can build a machine learning algorithm even with NumPy, but creating a deep neural network is getting exponentially harder. NumPy is designed for (fast) computations, and not machine learning. It is usually used for machine learning together with a machine learning package.</p>
<h3 id="PyTorch"><a href="#PyTorch" class="headerlink" title="PyTorch"></a>PyTorch</h3><p>PyTorch is similar to NumPy in the way that it manages computations, but has a strong GPU support. Similarly to NumPy, it also has a C (the programming language) backend, so they are both much faster than native Python libraries. NumPy could be GPU accelerated (with some extra code), but it doesn’t have this strong GPU support that PyTorch or TensorFlow do. Finally, PyTorch was specifically tailored for GPU functionality in Python.</p>
<h3 id="TensorFlow"><a href="#TensorFlow" class="headerlink" title="TensorFlow"></a>TensorFlow</h3><p>TensorFlow, on the other hand, was written mainly in C++ and CUDA (NVIDIA’s language for programming GPUs), and was not specifically created for Python. It provides functionalities in C, C++, Java, Go (Google’s language), and there is community support for Haskell and Rust [1]. So, with TF, you are not restricted by Python. Even if the syntax differs a bit across languages, the concepts are the same.</p>
<h3 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h3><p>Now, PyTorch has deep neural networks functionalities and that is why it is often compared with TensorFlow, sklearn, etc. Moreover, TensorFlow has a peculiar logic (with concepts like placeholders, sessions, etc.). So, for TensorFlow, you need to make that extra effort. Knowing NumPy (which is my underlying assumption for the dear reader), it is easier to switch to PyTorch than TensorFlow, that is why it is gaining popularity so fast.</p>
<p>As TensorFlow was used by Google for so long, it is very easy to deploy algorithms using it. So you can think about it as more product oriented. Logically, you want to be able to deploy the algorithms that you are creating (you can check out TensorFlow Serving[2] for more on that).</p>
<p>PyTorch, on the other hand, is more recent, so it does not have the full range of capabilities of other packages. I am sure that this will change and they are on their way to catch up. However, TensorFlow has this module tf.contrib. That’s code, contributed by the community, that will probably be embedded into the core TF. Point being, the TensorFlow community is stronger, because TF is older. I don’t know if PyTorch will catch up to the community of TF (that depends on the users and the adoption).</p>
<h3 id="Opinion"><a href="#Opinion" class="headerlink" title="Opinion"></a>Opinion</h3><p>So, my verdict would be that TensorFlow has kind of stood the test of time (if you can use this expression for a framework that is not that old itself) and is still more widely adopted. It has more capabilities and a better scalability for larger projects (projects of the scale of Google). PyTorch is surely gaining momentum as it is easier to learn but doesn’t have the same integration. It is very good for small projects that need to be done quite fast, but is not optimal for product deployment.</p>
<h3 id="Practical-reasons-to-learn-both"><a href="#Practical-reasons-to-learn-both" class="headerlink" title="Practical reasons to learn both"></a>Practical reasons to learn both</h3><p>If you want to work in the industry, it is probable that a company may have some customized framework. On your CV, you will be expected to have experience with (a) machine learning package(s). In any case, they won’t expect you to have worked with all of them. If you have to choose a single one of them, it seems to me that going for “the easier to learn” package looks worse. So learn both or go with TF.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/11/05/dataStructure_select/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/05/dataStructure_select/" itemprop="url">数据结构--查找</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-05T09:00:00+08:00">
                2018-11-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/05/dataStructure_select/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/11/05/dataStructure_select/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="二分查找-amp-amp-利用二分查找插入"><a href="#二分查找-amp-amp-利用二分查找插入" class="headerlink" title="二分查找 &amp;&amp; 利用二分查找插入"></a>二分查找 &amp;&amp; 利用二分查找插入</h3><pre><code>#include &lt;stdio.h&gt;

#define MAX 100

typedef struct{
    int key;
}Node;

typedef Node SeqList[MAX+1];

//递归二分查找
int binSearch1(SeqList R, int k, int low, int high){
    int mid;
    if(low &lt;= high){
        mid = (low+high)/2;
        if(R[mid].key == k)
            return mid;
        if(R[mid].key &gt; k)
            return binSearch1(R, k, low, mid-1);
        else
            return binSearch1(R, k, mid+1, high);
    }
    return 0;
}

//非递归查找
int binSearch2(SeqList R, int k, int low, int high){
    int mid;
    while(low &lt;= high){
        mid = (low+high)/2;
        if(R[mid].key == k)
            return mid;
        if(R[mid].key &gt; k)
            high = mid-1;
        else
            low = mid+1;
    }
    return 0;
}

//插入
void binInsert(SeqList R, int n, int k){
    int low=1, high=n,find=0, mid;
    while(low&lt;=high &amp;&amp; !find){
        mid = (low+high)/2;
        if(R[mid].key == k){
            find = mid;
            break;
        }
        if(R[mid].key &gt; k)
            high = mid - 1;
        else
            low = mid + 1;
    }
    if(!find)
        find = low;
    for(int i=n; i&gt;=find; i--){
        R[i+1] = R[i];
    }
    R[find].key = k;
}

int main(){
    SeqList R;
    int t;
    int n = 0;
    int i;
    while (1==1) {
        scanf(&quot;%d&quot;, &amp;t);
        if(t == -9999)
            break;
        n++;
        R[n].key = t;
    }
    i = binSearch1(R, 5, 1, n);
    printf(&quot;%d\n&quot;, i);
    binInsert(R, n, 5);
    for(int j=1; j&lt;=n+1; j++){
        printf(&quot;%d-&gt;&quot;, R[j].key);
    }
    return 0;
}
</code></pre><h3 id="二叉排序树"><a href="#二叉排序树" class="headerlink" title="二叉排序树"></a>二叉排序树</h3><pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef struct Node{
    int data;
    struct Node \*lchild;
    struct Node \*rchild;
}BSNode;

typedef BSNode \*BSTree;


BSTree insertBSTree(BSTree bst, int k){
    if(bst == NULL){
        bst = (BSNode \*)malloc(sizeof(BSNode));
        bst-&gt;data = k;
        bst-&gt;lchild = NULL;
        bst-&gt;rchild = NULL;
    }
    BSTree lc;
    BSTree rc;
    if(k &lt; bst-&gt;data){
        lc = insertBSTree(bst-&gt;lchild, k);
        bst-&gt;lchild = lc;
    }
    else if(k &gt; bst-&gt;data){
        rc = insertBSTree(bst-&gt;rchild, k);
        bst-&gt;rchild = rc;
    }
    return bst;
}

void interOder(BSTree bst){
    if(bst){
        interOder(bst-&gt;lchild);
        printf(&quot;%d-&gt;&quot;, bst-&gt;data);
        interOder(bst-&gt;rchild);
    }
}

int main(){
    BSTree bst = NULL;
    int t;
    scanf(&quot;%d&quot;, &amp;t);
    while (t != -9999) {
        bst = insertBSTree(bst, t);
        scanf(&quot;%d&quot;, &amp;t);
    }
    interOder(bst);
    printf(&quot;\n&quot;);
    return 0;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/11/05/dataStructure_order/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/05/dataStructure_order/" itemprop="url">数据结构--排序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-05T08:00:00+08:00">
                2018-11-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/05/dataStructure_order/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/11/05/dataStructure_order/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="直接插入排序"><a href="#直接插入排序" class="headerlink" title="直接插入排序"></a>直接插入排序</h3><pre><code>#include &lt;stdio.h&gt;

#define MAX 1000

typedef struct{
    int key;
}Node;

typedef Node SeqList[MAX+1];

void insertSort(SeqList R, int n){
    for(int i=2; i&lt;=n ; i++){
        R[0].key = R[i].key;
        int j;
        for(j=i-1; j&gt;=0; j--){
            if(R[j].key &lt;= R[i].key)
                break;
        }
        if(j &lt; i-1){
            for(int k=i-1; k&gt;j; k--){
                R[k+1].key = R[k].key;
            }
            R[j+1].key = R[0].key;
        }
    }
}

int main(){
    SeqList R;
    int t;
    int n = 0;
    while (1==1) {
        scanf(&quot;%d&quot;, &amp;t);
        if(t == -9999)
            break;
        n++;
        R[n].key = t;
    }
    insertSort(R, n);
    for(int i=1; i&lt;=n; i++){
        printf(&quot;%d-&gt;&quot;, R[i].key);
    }
    printf(&quot;\n&quot;);
    return 0;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/11/05/dataStructure_multiArr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/05/dataStructure_multiArr/" itemprop="url">数据结构--多维数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-05T07:00:00+08:00">
                2018-11-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据结构/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/11/05/dataStructure_multiArr/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/11/05/dataStructure_multiArr/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="三角矩阵-amp-amp-矩阵乘积"><a href="#三角矩阵-amp-amp-矩阵乘积" class="headerlink" title="三角矩阵 &amp;&amp; 矩阵乘积"></a>三角矩阵 &amp;&amp; 矩阵乘积</h3><pre><code>#include &lt;stdio.h&gt;

#define MAX 1000

void matMulti(int \*A, int \*B, int n){
    int C[n][n];
    int i, j, s;
    int index_A = 0, index_B = 0;
    for(i=0; i&lt;n; i++){
        for(j=0; j&lt;n; j++){
            C[i][j] = 0;
        }
    }
    for(i=0; i&lt;n; i++){
        for(j=0; j&lt;n; j++){
            s=0;
            for(int k=0; k&lt;n; k++){
                if(i&lt;k || j&lt;k)
                    continue;
                index_A = i*(i+1)/2 + k;
                index_B = k*(2*n-k+1)/2 + j -k;
                printf(&quot;A:%d B:%d\n&quot;, A[index_A], B[index_B]);
                s += A[index_A]\*B[index_B];
            }
            C[i][j] = s;
        }
    }
    for(i=0; i&lt;n; i++){
        for(j=0; j&lt;n; j++){
            printf(&quot;%d &quot;, C[i][j]);
        }
        printf(&quot;\n&quot;);
    }
}

int main(){
    // 上三角矩阵A, 下三角矩阵
    int A[MAX], B[MAX];
    // 矩阵数据长度
    int i=0, j=0;
    // 矩阵阶数
    int n1=0, n2=0;
    int flag1=1, flag2=1;
    int tmp;
    while (1 == 1) {
        scanf(&quot;%d&quot;, &amp;tmp);
        if(tmp == -9999)
            break;
        A[i] = tmp;
        i++;
        flag1--;
        if(flag1 == 0){
            n1++;
            flag1=n1+1;
        }
    }
    while (1 == 1) {
        scanf(&quot;%d&quot;, &amp;tmp);
        if(tmp == -9999)
            break;
        B[j] = tmp;
        j++;
        flag2--;
        if(flag2 == 0){
            n2++;
            flag2=n2+1;
        }
    }
    printf(&quot;%d %d\n&quot;, i, n1);
    printf(&quot;%d %d\n&quot;, j, n2);
    matMulti(A, B, n1);
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/10/21/computer_network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/21/computer_network/" itemprop="url">计算机网络原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-21T09:00:00+08:00">
                2018-10-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/基础知识/" itemprop="url" rel="index">
                    <span itemprop="name">基础知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/21/computer_network/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/10/21/computer_network/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第三章-传输层"><a href="#第三章-传输层" class="headerlink" title="第三章 传输层"></a>第三章 传输层</h2><h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>TCP拥塞控制不基于拥塞状态反馈（丢弃分组，警告位），是与网络层拥塞控制的区别。TCP拥塞控制通过超时和三次重复确认推断拥塞。拥塞控制算法有慢启动、拥塞避免、快速恢复和快速重传。涉及到发送端的一个变量拥塞窗口CongWin。在慢启动阶段，每接收到一个ACK，CongWin加一个MSS数值，在一个RTT后翻倍。CongWin超过初始阈值Threshold进入在拥塞避免阶段，每个RTT，ConWin加1。一旦推断拥塞，Threshold=CongWin/2，CongWin=1，进入慢启动。反映了加性增加和乘性减小。后期引入快送重传和快速恢复算法，快速重传就是发生三次重复确认，重传报文段。快速恢复区别对待超时和三次重复确认，对发生三次重复确认，只是从新的阈值开始进入拥塞避免阶段。</p>
<h2 id="第四章-网络层"><a href="#第四章-网络层" class="headerlink" title="第四章 网络层"></a>第四章 网络层</h2><h3 id="网络层服务"><a href="#网络层服务" class="headerlink" title="网络层服务"></a>网络层服务</h3><ul>
<li>转发</li>
<li>路由选择<br>路由选择算法计算路由，将路由信息存储到路由转发表，转发分组时查询转发表并转发分组。</li>
<li>连接建立</li>
</ul>
<h3 id="数据报网络和虚电路网络"><a href="#数据报网络和虚电路网络" class="headerlink" title="数据报网络和虚电路网络"></a>数据报网络和虚电路网络</h3><ul>
<li>是否面向连接</li>
<li>虚电路网络又分为永久型和交换型（更具需要临时建立）</li>
<li>数据报网络和虚电路网络的主要区别是顺序控制、流量控制和差错控制是由网络完成还是端系统完成。</li>
</ul>
<h3 id="网络互联与网络互联设备"><a href="#网络互联与网络互联设备" class="headerlink" title="网络互联与网络互联设备"></a>网络互联与网络互联设备</h3><h4 id="异构网络互联的方式"><a href="#异构网络互联的方式" class="headerlink" title="异构网络互联的方式"></a>异构网络互联的方式</h4><ul>
<li>协议转换</li>
<li>构建虚拟互联网络，使用虚拟互联网络设备转发分组。<br>IP网络就是虚拟互联网络，Internet是最大的IP网络，网络层协议–IP，网络询址–IP地址，网络互联设备–路由器<h4 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h4></li>
<li>每个输入端口都有路由转发表的副本和缓存功能</li>
<li>输入端口到输出端口分组的转发，由交换结构完成<h4 id="交换结构的实现方式："><a href="#交换结构的实现方式：" class="headerlink" title="交换结构的实现方式："></a>交换结构的实现方式：</h4></li>
<li>基于内存交换，性能低，便宜</li>
<li>基于总线交换，无需处理器介入，总线具有独占特性</li>
<li>基于网络交换，可以并行交换，但是对同一输出端口的交换是串行的<h4 id="路由转发转发原则"><a href="#路由转发转发原则" class="headerlink" title="路由转发转发原则"></a>路由转发转发原则</h4>路由转发时，有多条路由项匹配成功，选择网络前缀匹配成功最长的路由项，最长前缀匹配优先原则</li>
</ul>
<h3 id="网络层拥塞控制"><a href="#网络层拥塞控制" class="headerlink" title="网络层拥塞控制"></a>网络层拥塞控制</h3><h4 id="拥塞控制和流量控制的区别"><a href="#拥塞控制和流量控制的区别" class="headerlink" title="拥塞控制和流量控制的区别"></a>拥塞控制和流量控制的区别</h4><p>流量控制是发送方根据接受方的缓存和数据处理的能力调整数据发送速率和发送量。拥塞控制是根据网络通过能力或拥挤程度调节速率和发送量。</p>
<h4 id="几种常用的网络层的拥塞控制措施"><a href="#几种常用的网络层的拥塞控制措施" class="headerlink" title="几种常用的网络层的拥塞控制措施"></a>几种常用的网络层的拥塞控制措施</h4><ul>
<li>流量感知路由，拥塞预防措施</li>
<li>准入控制，是否允许构建虚电路</li>
<li>流量调节，通过抑制分组，直接告知发送方。背压，在发往发送方的路径中，每一跳都抑制输出，优点是快速缓解拥塞，缺点是每一跳都需要更大的缓存。</li>
<li>负载脱落，选择丢弃数据包，丢弃哪些数据包取决于上层应用</li>
</ul>
<h3 id="Internet网络层"><a href="#Internet网络层" class="headerlink" title="Internet网络层"></a>Internet网络层</h3><h4 id="IP数据报分片与重组"><a href="#IP数据报分片与重组" class="headerlink" title="IP数据报分片与重组"></a>IP数据报分片与重组</h4><ul>
<li>不同链路层协议MTU不同，因此需要对数据报进行分片。</li>
<li>重组是，根据标识字段判断是否属于同一数据报，标志字段的MF判断是否最后一个分片，偏移字段表示顺序，长度字段判断是否有分片丢失。</li>
</ul>
<h4 id="IPv4编址，32位"><a href="#IPv4编址，32位" class="headerlink" title="IPv4编址，32位"></a>IPv4编址，32位</h4><p>基于IP子网的概念将IP地址划分为两部分，前缀即网络部分，后缀即主机部分。</p>
<ul>
<li>分类地址<br>  前缀长度    前缀<br>A   8         0XXXXXXXX<br>B   16        10XXXXXXXXXXXXXXXX<br>C   24        110XXXXXXXXXXXXXXXXXXXXXXXX<br>D             1110XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX<br>E             11110XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</li>
<li>无类地址<br>只有给出子网地址、子往前缀或子网掩码才能准确描述子网规模<br>给定子网内某地址，与子网掩码做按位与运算获得子网地址，与子网掩码的反码按位或运算可得直接广播地址<br>子网的可用IP地址总数要减去子网地址和广播地址<h4 id="路由聚合"><a href="#路由聚合" class="headerlink" title="路由聚合"></a>路由聚合</h4>路由聚合技术缩减路由表项，有效提高查询效率<h4 id="动态主机配置协议DHCP"><a href="#动态主机配置协议DHCP" class="headerlink" title="动态主机配置协议DHCP"></a>动态主机配置协议DHCP</h4>动态分配IP地址，应用层实现，传输层使用UDP<h5 id="分配过程"><a href="#分配过程" class="headerlink" title="分配过程"></a>分配过程</h5></li>
<li>DHCP发现，目的IP，255.255.255.255，源IP，0.0.0.0</li>
<li>DHCP服务器提供，广播发送</li>
<li>DHCP请求，广播发送，因为可能存在多个DHCP服务器</li>
<li>DHCP确认<h4 id="网络地址转换NAT"><a href="#网络地址转换NAT" class="headerlink" title="网络地址转换NAT"></a>网络地址转换NAT</h4></li>
<li>NAT通过替换进出内部似有网络的IP数据包的IP地址和端口号，实现使用私有地址的主机与互联网通信。NAT运行在边缘路由器，维护NAT转换表。</li>
<li>私有地址主机如果希望被动接受外网主机访问，需要NAT穿透<h4 id="ICMP，网络控制报文协议"><a href="#ICMP，网络控制报文协议" class="headerlink" title="ICMP，网络控制报文协议"></a>ICMP，网络控制报文协议</h4>封装在IP数据报中，实现主机和路由器之间的差错报告和网络探测。分为差错报告报文和询问报文两大类。Ping，Traceroute<h4 id="IPv4到IPv6的迁移"><a href="#IPv4到IPv6的迁移" class="headerlink" title="IPv4到IPv6的迁移"></a>IPv4到IPv6的迁移</h4></li>
<li>双协议栈，同时支持两种协议，使用DNS查询返回地址区分服务端支持的协议</li>
<li>隧道，客户服务器都使用IPv6但中间路由器不支持怎么办，在进入隧道前的最后一个IPv6路由器上封装称IPv4数据报，目的地址是隧道出口第一个IPv6路由器。<h4 id="路由选择算法"><a href="#路由选择算法" class="headerlink" title="路由选择算法"></a>路由选择算法</h4></li>
<li>全局式路由选择算法，LS（链路状态）</li>
<li>分布式路由选择算法，DV（距离向量）</li>
<li>层次化路由选择<h4 id="Internet路由选择协议"><a href="#Internet路由选择协议" class="headerlink" title="Internet路由选择协议"></a>Internet路由选择协议</h4></li>
<li>RIP(路由信息协议)<br>内部外观协议，DV</li>
<li>OSPF(开放式最短路径优先协议)<br>内部外观协议，LS</li>
<li>BGP(边界网关协议)<br>外部网关协议，DV</li>
</ul>
<h2 id="第五章-数据链路层与局域网"><a href="#第五章-数据链路层与局域网" class="headerlink" title="第五章 数据链路层与局域网"></a>第五章 数据链路层与局域网</h2><h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><h4 id="噪声分类"><a href="#噪声分类" class="headerlink" title="噪声分类"></a>噪声分类</h4><ul>
<li>随机噪声引起差错</li>
<li>冲击噪声引起突发差错</li>
</ul>
<h4 id="差错控制基本方式"><a href="#差错控制基本方式" class="headerlink" title="差错控制基本方式"></a>差错控制基本方式</h4><ul>
<li>检错重发，停等协议和滑动窗口协议</li>
<li>前向纠错FEC</li>
<li>反馈校验，将发送端的数据再发回去</li>
<li>检错丢弃，允许一定差错存在</li>
</ul>
<h4 id="差错编码"><a href="#差错编码" class="headerlink" title="差错编码"></a>差错编码</h4><p>信息位后附加冗余位，信息位与冗余码符合一定关系式</p>
<h4 id="检错和纠错能力"><a href="#检错和纠错能力" class="headerlink" title="检错和纠错能力"></a>检错和纠错能力</h4><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul>
<li>奇偶校验码</li>
<li>汉明码<br>信息位k 校验位r<br>2^r &gt;= k+r+1</li>
<li>CRC</li>
</ul>
<h3 id="多路访问控制协议"><a href="#多路访问控制协议" class="headerlink" title="多路访问控制协议"></a>多路访问控制协议</h3><p>链路信道分为单播和广播信道，广播信道被所有结点共享，必须采用MAC控制结点信息发送</p>
<h4 id="信道划分MAC协议"><a href="#信道划分MAC协议" class="headerlink" title="信道划分MAC协议"></a>信道划分MAC协议</h4><h5 id="多路复用技术"><a href="#多路复用技术" class="headerlink" title="多路复用技术"></a>多路复用技术</h5><ul>
<li>频分多路复用</li>
<li>时分多路复用<br>同步时分多路复用。异步时分多路复用又称统计时分多路复用，大多用于现代计算机广域传输。</li>
<li>波分多路复用<br>在光纤通信上的频分多路复用</li>
<li>码分多路复用<h4 id="随机访问MAC协议"><a href="#随机访问MAC协议" class="headerlink" title="随机访问MAC协议"></a>随机访问MAC协议</h4></li>
<li>纯ALOHA协议<br>无线信道共享接入，任一站点有发送信息的需要立即发送，监听一段时间，没有接收站的回应则表示发送成功，否则等待随机时间后重发。</li>
<li>时隙ALOHA协议<br>信道时间划分离散的时隙，每个时隙等于发送一帧所需要的时间，在每个时隙开始阶段发送，出现冲突后下一个时隙以概率P重发该帧</li>
<li>CSMA，载波监听多路访问协议<br>利用载波监听装置在数据发送之前监听其它站点是否在发送数据。又分为非坚持CSMA（信道忙等待随机时间再监听），1-坚持CSMA（信道忙继续监听直到空闲立即发送数据），P-坚持CSMA（分割时隙，信道空闲以概率P在时隙开始时间发送）</li>
<li>CSMA/CD，带冲突检测的载波监听多路访问协议<br>发送数据的同时，监听信道，一旦发生冲突立即停止发送，并发出冲突强化信号，使得所有站点都知道冲突发生。L是数据帧最小长度，R是传输速率，D是两站最远距离，V是传播速度，则L/R&gt;=2D/V。<h4 id="受控接入MAC"><a href="#受控接入MAC" class="headerlink" title="受控接入MAC"></a>受控接入MAC</h4></li>
<li>集中式控制<br>轮叫轮询，传递轮询。主机一旦故障，网络瘫痪</li>
<li>分散式控制<br>令牌环网<h4 id="受控接入MAC协议"><a href="#受控接入MAC协议" class="headerlink" title="受控接入MAC协议"></a>受控接入MAC协议</h4></li>
</ul>
<h3 id="局域网"><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h3><h4 id="数据链路层寻址"><a href="#数据链路层寻址" class="headerlink" title="数据链路层寻址"></a>数据链路层寻址</h4><h5 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h5><ul>
<li>交换机接口没有MAC地址</li>
<li>帧的转发由交换机查找交换表转发相应端口，如果目的MAC地址是接收端口则丢弃。</li>
<li>MAC地址是6个字节，第一个字节的倒数第二位是G/L位，为1时表示本地管理，位0时表示全球管理。</li>
<li>广播MAC地址全为1<h5 id="ARP，地址解析协议"><a href="#ARP，地址解析协议" class="headerlink" title="ARP，地址解析协议"></a>ARP，地址解析协议</h5></li>
<li>每台主机有ARP高速缓存，存储MAC地址和IP地址的映射关系。</li>
<li>每个主机和路由器都有ARP模块，通过广播ARP查询报文可以得到IP地址对应MAC地址</li>
<li>如果主机和目的主机不在同一个子网，ARP解析默认网关MAC地址，作为目的MAC地址</li>
<li>ARP查询分组是广播帧发送，响应分组是单播帧<h5 id="ARP与DNS的区别"><a href="#ARP与DNS的区别" class="headerlink" title="ARP与DNS的区别"></a>ARP与DNS的区别</h5></li>
<li>ARP是IP地址与MAC地址的映射关系，DNS是域名和IP地址的映射关系</li>
<li>ARP是为子网内主机解析IP地址，DNS是为整个互联网解析主机域名</li>
<li>DNS是在域名服务器间查询，ARP是在局域网内广播ARP查询<h4 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h4>802.3协议，第一个广泛部署的告诉局域网,CSMA/CD，曼策斯特编码，提供无连接不可靠服务</li>
<li>10Base-5 经典的同轴电缆总线型以太网</li>
<li>10Base-T 非屏蔽双绞线UTP</li>
<li>100Base-T 快速以太网</li>
<li>100Base-TX 5类UTP</li>
<li>100Base-T4 3、4、5类UTP</li>
<li>100Base-TF 光缆</li>
<li>1000Base-SX/LX 千兆以太网，光纤传输介质</li>
<li>1000Base-T 5类UTP</li>
<li>万兆以太网 扩展了传输速率和距离，开始应用于城域网和广域网<h4 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h4></li>
<li>交换机就是多端口的网桥。依据目的MAC地址，选择性的转发端口，这就是转发与过滤功能</li>
<li>交换机的选择性转发，实现了冲突域的分割。10M以太网，10个用户使用，若使用交换机连接，交换机的总容量相当于100M</li>
<li>交换机的交换表是通过逆向学习逐步构建的</li>
<li>交换机是一种即插即用的设备，采用专用的交换结构芯片，其转发速率比软件转发的网桥快得多</li>
<li>交换机的优点，消除冲突、支持异质链路和网络管理（可以检测到异常适配器并切断<h4 id="虚拟局域网-VLAN"><a href="#虚拟局域网-VLAN" class="headerlink" title="虚拟局域网 VLAN"></a>虚拟局域网 VLAN</h4>为限制广播域的规模，抑制广播风暴，可以使用路由器分割子网，或则构建虚拟局域网，基于交换机的逻辑分割，通过软件方式实现<h5 id="主要方法"><a href="#主要方法" class="headerlink" title="主要方法"></a>主要方法</h5></li>
<li>基于交换机的端口</li>
<li>基于MAC地址划分</li>
<li>基于上层协议类型或地址划分，有利于组成基于应用的VLAN</li>
</ul>
<h2 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h2><h2 id="无线网"><a href="#无线网" class="headerlink" title="无线网"></a>无线网</h2><h2 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/09/20/ngrok/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/20/ngrok/" itemprop="url">ngrok</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-20T14:28:00+08:00">
                2018-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index">
                    <span itemprop="name">Tools</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/20/ngrok/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/20/ngrok/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h3><p>The plan is to create a pair of executables (ngrok and ngrokd) that are connected with a self-signed SSL cert. Since the client and server executables are paired, you won’t be able to use any other ngrok to connect to this ngrokd, and vice versa.</p>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>Add two DNS records: one for the base domain and one for the wildcard domain. For example, if your base domain is domain.com, you’ll need a record for that and for *.domain.com.</p>
<h3 id="Different-Operating-Systems"><a href="#Different-Operating-Systems" class="headerlink" title="Different Operating Systems"></a>Different Operating Systems</h3><p>If the OS on which you’ll be compiling ngrok (that’s the server section below) is different than the OS on which you’ll be running the client, then you will need to set the GOOS and GOARCH env variables. I run Linux everywhere, so I don’t know how to do that. Please Google it or see the discussion here. If you know how to do this and want to add GOOS/GOARCH instructions here, please let me know.</p>
<h3 id="On-Server"><a href="#On-Server" class="headerlink" title="On Server"></a>On Server</h3><p>MAKE SURE YOU SET NGROK_DOMAIN BELOW. Set it to the base domain, not the wildcard domain.</p>
<pre><code>NGROK_DOMAIN=&quot;my.domain.com&quot;
git clone https://github.com/inconshreveable/ngrok.git
cd ngrok

openssl genrsa -out rootCA.key 2048
openssl req -x509 -new -nodes -key rootCA.key -subj &quot;/CN=$NGROK_DOMAIN&quot; -days 5000 -out rootCA.pem
openssl genrsa -out device.key 2048
openssl req -new -key device.key -subj &quot;/CN=$NGROK_DOMAIN&quot; -out device.csr
openssl x509 -req -in device.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out device.crt -days 5000

cp rootCA.pem assets/client/tls/ngrokroot.crt
# make clean
make release-server release-client
</code></pre><p>Copy bin/ngrok to whatever computer you want to connect from. Then start the server:</p>
<pre><code>bin/ngrokd -tlsKey=device.key -tlsCrt=device.crt -domain=&quot;$NGROK_DOMAIN&quot; -httpAddr=&quot;:8000&quot; -httpsAddr=&quot;:8001&quot;
</code></pre><h3 id="On-Client"><a href="#On-Client" class="headerlink" title="On Client"></a>On Client</h3><p>MAKE SURE YOU SET NGROK_DOMAIN BELOW. Set it to the base domain, not the wildcard domain.</p>
<pre><code>NGROK_DOMAIN=&quot;my.domain.com&quot;
echo -e &quot;server_addr: $NGROK_DOMAIN:4443\ntrust_host_root_certs: false&quot; &gt; ngrok-config
./ngrok -config=ngrok-config 80
</code></pre><p>Or for SSH forwarding: ./ngrok -config=ngrok-config –proto=tcp 22</p>
<h3 id="Define-a-fixed-TCP-listen-port"><a href="#Define-a-fixed-TCP-listen-port" class="headerlink" title="Define a fixed TCP listen port"></a>Define a fixed TCP listen port</h3><p>Set port number to the remote_port args. Be sure to pay attention to the format</p>
<pre><code>tunnels:
  mysql:
    proto:
      tcp:3306
    remote_port: 36799
</code></pre><h3 id="Run-ngrok-client-with-config"><a href="#Run-ngrok-client-with-config" class="headerlink" title="Run ngrok client with -config"></a>Run ngrok client with -config</h3><p>Create an ngrok configuration file, “debug.yml” with the following contents:</p>
<pre><code>server_addr: ngrok.domain.com:4443
trust_host_root_certs: false
tunnels:
  ssh:
    proto:
      http: 22
    subdomain: 22
  mysql:
    proto:
      tcp: 3306
    remote_port: 36799
</code></pre><p>Then run ngrok</p>
<pre><code>./bin/ngrok -config=debug.yml -log=stdout start-all
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/09/10/chrome_install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/10/chrome_install/" itemprop="url">Linux 安装 Chrome</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-10T11:55:00+08:00">
                2018-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/常用软件/" itemprop="url" rel="index">
                    <span itemprop="name">常用软件</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/10/chrome_install/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/10/chrome_install/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="添加仓库来源"><a href="#添加仓库来源" class="headerlink" title="添加仓库来源"></a>添加仓库来源</h2><ul>
<li><p>在  /etc/yum.repos.d/ 目录新建 repo file</p>
<pre><code>vi /etc/yum.repos.d/google-chrome.repo
</code></pre></li>
<li><p>复制以下仓库信息</p>
<pre><code>[google-chrome]
name=google-chrome
baseurl=http://dl.google.com/linux/chrome/rpm/stable/x86_64
enabled=1
gpgcheck=1
gpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub
</code></pre></li>
<li><p>没有翻墙代理无法访问gpgkey怎么办</p>
<pre><code># 找一台能翻墙的电脑下载 linux_signing_key.pub
gpgkey=file:///dir/linux_signing_key.pub
</code></pre></li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code>yum install -y google-chrome-stable
or
yum install -y google-chrome-beta
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/08/28/flask/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/28/flask/" itemprop="url">Flask使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-28T10:00:58+08:00">
                2018-08-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flask/" itemprop="url" rel="index">
                    <span itemprop="name">Flask</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/28/flask/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/28/flask/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>所有Web框架的使用都有自己的套路，作为一个框架本质就是一个工具。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code>pip install Flask
</code></pre><h3 id="自动安装的依赖"><a href="#自动安装的依赖" class="headerlink" title="自动安装的依赖"></a>自动安装的依赖</h3><ul>
<li><a href="http://werkzeug.pocoo.org/" target="_blank" rel="noopener">Werkzeug</a> 应用及服务间的标准接口</li>
<li><a href="http://jinja.pocoo.org/" target="_blank" rel="noopener">Jinja</a> 模板</li>
<li><a href="https://pypi.org/project/MarkupSafe/" target="_blank" rel="noopener">MarkupSafe</a> Jinja附带，防止注入攻击</li>
<li><a href="https://pythonhosted.org/itsdangerous/" target="_blank" rel="noopener">ItsDangerous</a> 数据完整性，保护 session cookie 安全</li>
<li><a href="http://click.pocoo.org/5/" target="_blank" rel="noopener">Click</a> 命令行应用框架</li>
</ul>
<h3 id="可选安装的依赖"><a href="#可选安装的依赖" class="headerlink" title="可选安装的依赖"></a>可选安装的依赖</h3><ul>
<li><a href="https://pythonhosted.org/blinker/" target="_blank" rel="noopener">Blinker</a> provides support for <a href="http://flask.pocoo.org/docs/1.0/signals/#signals" target="_blank" rel="noopener">Signals</a></li>
<li><a href="https://simplejson.readthedocs.io/en/latest/" target="_blank" rel="noopener">SimpleJSON</a> fast JSON</li>
<li><a href="https://github.com/theskumar/python-dotenv#readme" target="_blank" rel="noopener">python-dotenv</a></li>
<li><a href="https://pythonhosted.org/watchdog/" target="_blank" rel="noopener">Watchdog</a></li>
</ul>
<h2 id="Virtual-environments"><a href="#Virtual-environments" class="headerlink" title="Virtual environments"></a>Virtual environments</h2><ul>
<li>创建<br>  $ mkdir myproject<br>  $ cd myproject<br>  $ python3 -m venv venv</li>
<li>激活<br>  $ . venv/bin/activate</li>
</ul>
<h2 id="简单示例"><a href="#简单示例" class="headerlink" title="简单示例"></a>简单示例</h2><pre><code>from flask import Flask
app = Flask(__name__)

@app.route(&apos;/&apos;)
def hello_world():
return &apos;Hello, World!&apos;
</code></pre><ul>
<li>运行，设置环境变量 FLASK_APP<pre><code>$ FLASK_APP=hello.py flask run
</code></pre></li>
<li>监听公共 IP ，确保 debugger 模式已关<pre><code>flask run --host=0.0.0.0
</code></pre></li>
</ul>
<h2 id="Debug-Mode"><a href="#Debug-Mode" class="headerlink" title="Debug Mode"></a>Debug Mode</h2><pre><code>export FLASK_ENV=development
or FLASK_APP=hello.py FLASK_ENV=development flask run
</code></pre><h2 id="Variable-Rules"><a href="#Variable-Rules" class="headerlink" title="Variable Rules"></a>Variable Rules</h2><pre><code>@app.route(&apos;/user/&lt;username&gt;&apos;)
def show_user_profile(username):
    # show the user profile for that user
    return &apos;User %s&apos; % username

@app.route(&apos;/post/&lt;int:post_id&gt;&apos;)
def show_post(post_id):
    # show the post with the given id, the id is an integer
    return &apos;Post %d&apos; % post_id

@app.route(&apos;/path/&lt;path:subpath&gt;&apos;)
def show_subpath(subpath):
    # show the subpath after /path/
    return &apos;Subpath %s&apos; % subpath
</code></pre><h2 id="URL-结尾斜线"><a href="#URL-结尾斜线" class="headerlink" title="URL 结尾斜线"></a>URL 结尾斜线</h2><ul>
<li>不带斜线访问，会 redirects 到带斜线的 URL<pre><code>@app.route(&apos;/projects/&apos;)
def projects():
    return &apos;The project page&apos;
</code></pre></li>
<li>带斜线访问，会返回404，避免搜索引擎索引同一个页面两次<pre><code>@app.route(&apos;/about&apos;)
def about():
    return &apos;The about page&apos;
</code></pre></li>
</ul>
<h2 id="HTTP-Methods"><a href="#HTTP-Methods" class="headerlink" title="HTTP Methods"></a>HTTP Methods</h2><pre><code>from flask import request

@app.route(&apos;/login&apos;, methods=[&apos;GET&apos;, &apos;POST&apos;])
def login():
if request.method == &apos;POST&apos;:
    return do_the_login()
else:
    return show_the_login_form()
</code></pre><h2 id="URL-构建"><a href="#URL-构建" class="headerlink" title="URL 构建"></a>URL 构建</h2><pre><code>from flask import Flask, url_for

app = Flask(__name__)

@app.route(&apos;/&apos;)
def index():
    return &apos;index&apos;

@app.route(&apos;/login&apos;)
def login():
    return &apos;login&apos;

@app.route(&apos;/user/&lt;username&gt;&apos;)
def profile(username):
    return &apos;{}\&apos;s profile&apos;.format(username)

with app.test_request_context():
    print(url_for(&apos;index&apos;))
    print(url_for(&apos;login&apos;))
    print(url_for(&apos;login&apos;, next=&apos;/&apos;))
    print(url_for(&apos;profile&apos;, username=&apos;John Doe&apos;))

/
/login
/login?next=/
/user/John%20Doe
</code></pre><h2 id="Static-Files"><a href="#Static-Files" class="headerlink" title="Static Files"></a>Static Files</h2><p>在项目下创建 static 目录，存放 static files ,对于 url_for ，static 是保留字，用于生成指向 static 目录下的 URL</p>
<pre><code>url_for(&apos;static&apos;, filename=&apos;style.css&apos;)
</code></pre><h2 id="Rendering-Templates"><a href="#Rendering-Templates" class="headerlink" title="Rendering Templates"></a>Rendering Templates</h2><p>Flask 自动配置<a href="http://jinja.pocoo.org/docs/2.10/templates/" target="_blank" rel="noopener">Jinja2</a> template engine. Flask 自动去 templates 目录查找 template</p>
<pre><code>from flask import render_template

@app.route(&apos;/hello/&apos;)
@app.route(&apos;/hello/&lt;name&gt;&apos;)
def hello(name=None):
    return render_template(&apos;hello.html&apos;, name=name)
</code></pre><h2 id="The-Request-Object"><a href="#The-Request-Object" class="headerlink" title="The Request Object"></a>The Request Object</h2><pre><code>from flask import request

@app.route(&apos;/login&apos;, methods=[&apos;POST&apos;, &apos;GET&apos;])
def login():
    error = None
    if request.method == &apos;POST&apos;:
        if valid_login(request.form[&apos;username&apos;],
                       request.form[&apos;password&apos;]):
            return log_the_user_in(request.form[&apos;username&apos;])
        else:
            error = &apos;Invalid username/password&apos;
    # the code below is executed if the request method
    # was GET or the credentials were invalid
    return render_template(&apos;login.html&apos;, error=error)
</code></pre><ul>
<li>获取 form data, 使用 form 属性</li>
<li>获取 parameters submitted in the URL (?key=value), request.args.get(‘key’, ‘’)</li>
</ul>
<h2 id="File-Uploads"><a href="#File-Uploads" class="headerlink" title="File Uploads"></a>File Uploads</h2><p>enctype=”multipart/form-data”</p>
<pre><code>from flask import request

@app.route(&apos;/upload&apos;, methods=[&apos;GET&apos;, &apos;POST&apos;])
def upload_file():
if request.method == &apos;POST&apos;:
    f = request.files[&apos;the_file&apos;]
    f.save(&apos;/var/www/uploads/uploaded_file.txt&apos;)
...
</code></pre><ul>
<li><p>使用客户端的文件名存储在服务端，可以使用 secure_filename() 获取文件名</p>
<pre><code>from flask import request
from werkzeug.utils import secure_filename

@app.route(&apos;/upload&apos;, methods=[&apos;GET&apos;, &apos;POST&apos;])
    def upload_file():
    if request.method == &apos;POST&apos;:
    f = request.files[&apos;the_file&apos;]
    f.save(&apos;/var/www/uploads/&apos; + secure_filename(f.filename))
</code></pre></li>
</ul>
<h2 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h2><ul>
<li><p>读</p>
<pre><code>from flask import request

@app.route(&apos;/&apos;)
def index():
    username = request.cookies.get(&apos;username&apos;)
    # use cookies.get(key) instead of cookies[key] to not get a
    # KeyError if the cookie is missing.
</code></pre></li>
<li><p>写</p>
<p>  from flask import make_response</p>
<p>  @app.route(‘/‘)<br>  def index():</p>
<pre><code>resp = make_response(render_template(...))
resp.set_cookie(&apos;username&apos;, &apos;the username&apos;)
return resp
</code></pre></li>
<li><p>通常 Flask 自动转换返回值为 response objects ，如果自己想明确的指定 response 需要使用  make_response()</p>
</li>
</ul>
<h2 id="redirect-abort"><a href="#redirect-abort" class="headerlink" title="redirect() abort()"></a>redirect() abort()</h2><pre><code>from flask import abort, redirect, url_for

@app.route(&apos;/&apos;)
def index():
    return redirect(url_for(&apos;login&apos;))

@app.route(&apos;/login&apos;)
def login():
    abort(401)
    this_is_never_executed()
</code></pre><ul>
<li><p>使用 errorhandler() decorator 自定义 error page</p>
<pre><code>from flask import render_template

@app.errorhandler(404)
def page_not_found(error):
    return render_template(&apos;page_not_found.html&apos;), 404
</code></pre></li>
</ul>
<h2 id="Sessions"><a href="#Sessions" class="headerlink" title="Sessions"></a>Sessions</h2><ul>
<li><p>set a secret key</p>
<pre><code>from flask import Flask, session, redirect, url_for, escape, request

app = Flask(__name__)

# Set the secret key to some random bytes. Keep this really secret!
app.secret_key = b&apos;\_5#y2L&quot;F4Q8z\n\xec]/&apos;

@app.route(&apos;/&apos;)
def index():
    if &apos;username&apos; in session:
        return &apos;Logged in as %s&apos; % escape(session[&apos;username&apos;])
    return &apos;You are not logged in&apos;

@app.route(&apos;/login&apos;, methods=[&apos;GET&apos;, &apos;POST&apos;])
def login():
    if request.method == &apos;POST&apos;:
        session[&apos;username&apos;] = request.form[&apos;username&apos;]
        return redirect(url_for(&apos;index&apos;))
    return &apos;&apos;&apos;
        &lt;form method=&quot;post&quot;&gt;
            &lt;p&gt;&lt;input type=text name=username&gt;
            &lt;p&gt;&lt;input type=submit value=Login&gt;
        &lt;/form&gt;
    &apos;&apos;&apos;

@app.route(&apos;/logout&apos;)
def logout():
    # remove the username from the session if it&apos;s there
    session.pop(&apos;username&apos;, None)
    return redirect(url_for(&apos;index&apos;))
</code></pre></li>
<li><p>escape(), 如果不使用模板引擎，escape 可转换 html 特殊字符</p>
</li>
<li>generate good secret keys, os.urandom(16)</li>
</ul>
<h2 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h2><pre><code>app.logger.debug(&apos;A value for debugging&apos;)
app.logger.warning(&apos;A warning occurred (%d apples)&apos;, 42)
app.logger.error(&apos;An error occurred&apos;)
</code></pre><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><ul>
<li>Flask 自带 wsgi 扩展性能不好，仅适用于开发环境</li>
<li>WSGI HTTP Server 可选的有 Gunicorn 和 uWSGI</li>
<li>Nginx 作为静态文件访问容器和反向代理、分布式环境下作负载均衡</li>
</ul>
<h3 id="Gunicorn"><a href="#Gunicorn" class="headerlink" title="Gunicorn"></a>Gunicorn</h3><ul>
<li><p>安装</p>
<pre><code>$ pip install gunicorn
</code></pre></li>
<li><p>Async Workers<br>Gunicorn 默认同步 Workers ，通常我们还需要安装 Eventlet 或则 Gevent ，实现异步 Workers 。greenlet 是默认安装的。eventlet 和 gevent 性能差不多，可以选一个安装。</p>
<pre><code>$ pip install greenlet            # Required for both
$ pip install eventlet            # For eventlet workers
$ pip install gunicorn[eventlet]  # Or, using extra
$ pip install gevent              # For gevent workers
$ pip install gunicorn[gevent]    # Or, using extra
</code></pre></li>
<li><p>运行</p>
<pre><code>gunicorn --workers=2 --worker-class=eventlet hello:app
</code></pre></li>
<li><p>其它参数</p>
<pre><code>-c CONFIG, --config=CONFIG  Specify a config file in the form $(PATH), file:$(PATH), or python:$(MODULE_NAME).
-b BIND, --bind=BIND - Specify a server socket to bind. Server sockets can be any of $(HOST), $(HOST):$(PORT), or unix:$(PATH). An IP is a valid $(HOST).
-n APP_NAME, --name=APP_NAME - If setproctitle is installed you can adjust the name of Gunicorn process as they appear in the process system table (which affects tools like ps and top).
</code></pre></li>
</ul>
<h3 id="布署-Gunicorn"><a href="#布署-Gunicorn" class="headerlink" title="布署 Gunicorn"></a><a href="http://docs.gunicorn.org/en/stable/deploy.html" target="_blank" rel="noopener">布署 Gunicorn</a></h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thathub.com/2018/08/15/reverse_proxy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jokers">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jokers's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/15/reverse_proxy/" itemprop="url">Nginx作反向代理保护Kibana</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-15T17:36:00+08:00">
                2018-08-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ES/" itemprop="url" rel="index">
                    <span itemprop="name">ES</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/15/reverse_proxy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/08/15/reverse_proxy/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="安装-Nginx-，先安装-EPEL-repository"><a href="#安装-Nginx-，先安装-EPEL-repository" class="headerlink" title="安装 Nginx ，先安装 EPEL repository"></a>安装 Nginx ，先安装 EPEL repository</h3><pre><code>$ yum install epel-release
$ yum install nginx
$ systemctl start nginx
$ systemctl enable nginx
</code></pre><h3 id="httpd-tools-setting-up-an-HTTP-authentication"><a href="#httpd-tools-setting-up-an-HTTP-authentication" class="headerlink" title="httpd-tools, setting up an HTTP authentication"></a>httpd-tools, setting up an HTTP authentication</h3><pre><code>$ yum install httpd-tools
</code></pre><ul>
<li><p>create a “.htpasswd” file to store our credential data such as Usernames and Passwords in an encrypted format</p>
<pre><code>$ htpasswd -c [filename] /etc/nginx/ username
</code></pre></li>
</ul>
<h3 id="Configuring-Nginx"><a href="#Configuring-Nginx" class="headerlink" title="Configuring Nginx"></a>Configuring Nginx</h3><pre><code>$ /etc/nginx/nginx.conf
</code></pre><ul>
<li><p>Find the “server” directive and change it  like below:</p>
<pre><code>server {
    listen 80;
    server_name \_;
    location ~ ^/kibana/(.\*)$ {
        rewrite /kibana/(.\*) /$1 break;
        proxy_pass http://127.0.0.1:9396;
        auth_basic &quot;Restricted&quot;;
        auth_basic_user_file /etc/nginx/.htpasswd;
    }
}
</code></pre></li>
<li><p>检查 Nginx 配置</p>
<pre><code>$ nginx -t
</code></pre></li>
<li><p>重启 Nginx</p>
<pre><code>$ systemctl restart nginx
</code></pre></li>
</ul>
<h3 id="Configuring-Kibnana"><a href="#Configuring-Kibnana" class="headerlink" title="Configuring Kibnana"></a>Configuring Kibnana</h3><ul>
<li><p>打开配置文件</p>
<pre><code>$ vim /etc/kibana/kibana.yml
</code></pre></li>
<li><p>添加</p>
<pre><code>server.basePath: &quot;/kibana&quot;
</code></pre></li>
<li><p>重启 Kibana</p>
<pre><code>$ systemctl restart Kibana
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Jokers" />
          <p class="site-author-name" itemprop="name">Jokers</p>
           
              <p class="site-description motion-element" itemprop="description">hlxstc680@gmail.com</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jokers</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://thathub-com.disqus.com.disqus.com/count.js" async></script>
    

    

  




	





  








  





  

  

  

  

  

  

</body>
</html>
